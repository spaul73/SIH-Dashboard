@page "/problems"
@inject IJSRuntime Runtime
@inject NavigationManager NavManager

<NavBar/>

@*@if (GlobalUser.UID == null)
{
    NavManager.NavigateTo("/signin");

}
else
{

}*@

@code
{
    string uid;
    string problem;
    string title;
    string schoolCOde="1234";
    Roles role;

    void CreateIssue()
    {
        SchoolProblem problem = new SchoolProblem();
        ProblemStatement problemStatement = new ProblemStatement();
        problemStatement.Description = "bad school";
        problemStatement.Uid = "2324242424";
        problem.Statement.Add(problemStatement);

        DatabaseHelper.PushData<SchoolProblem>(Runtime,"SchoolIssues/"+schoolCOde,problem);
    }
    async void ReadAllSchoolIssues()
    {
        var v=await DatabaseHelper.ReadList<List<SchoolProblem>>(Runtime, "SchoolIssues/" + schoolCOde);
        Console.WriteLine(v.Count);
    }
    protected override void OnInitialized()
    {
        base.OnInitialized();
        ReadAllSchoolIssues();
    }
    bool Valid()
    {
        return false;
    }
}
